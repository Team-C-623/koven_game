[gd_scene load_steps=19 format=3 uid="uid://dpi1gofwgtr2c"]

[ext_resource type="Script" path="res://scripts/rooms/Room.gd" id="1_i2ney"]
[ext_resource type="Texture2D" uid="uid://dvf2aabp8o2fj" path="res://assets/environment/lvl1wall1combat2.png" id="2_mbjre"]
[ext_resource type="Texture2D" uid="uid://nfwlumvbq5r3" path="res://assets/environment/lvl1wall2combat2.png" id="3_fdmoy"]
[ext_resource type="Texture2D" uid="uid://3w1615ixgb8y" path="res://assets/environment/lvl1floorcombat2.png" id="4_v8dsc"]
[ext_resource type="PackedScene" uid="uid://ci64337knkfuk" path="res://scenes/enemy/enemy_spawner.tscn" id="5_s8fok"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_10yua"]
albedo_color = Color(0.044074, 0.0427533, 0.0421858, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_tv5cw"]
shading_mode = 0
albedo_texture = ExtResource("3_fdmoy")

[sub_resource type="PlaneMesh" id="PlaneMesh_4tnoq"]
material = SubResource("StandardMaterial3D_tv5cw")
size = Vector2(12.8, 7.2)
orientation = 0

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_rrkvq"]
points = PackedVector3Array(0, -3.6, -6.4, 0, 3.6, -6.4, 0, -3.6, 6.4, 0, 3.6, 6.4)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_6fq2f"]
points = PackedVector3Array(0, -3.6, -6.4, 0, 3.6, -6.4, 0, -3.6, 6.4, 0, 3.6, 6.4)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_yq07t"]
shading_mode = 0
albedo_texture = ExtResource("4_v8dsc")
uv1_scale = Vector3(2, 2, 2)

[sub_resource type="PlaneMesh" id="PlaneMesh_ar2j6"]
material = SubResource("StandardMaterial3D_yq07t")
size = Vector2(12.8, 12.8)

[sub_resource type="WorldBoundaryShape3D" id="WorldBoundaryShape3D_4ups5"]

[sub_resource type="Gradient" id="Gradient_twbgh"]
colors = PackedColorArray(0, 0, 0, 1, 0.10748, 0.10748, 0.10748, 1)

[sub_resource type="FastNoiseLite" id="FastNoiseLite_hmg5w"]

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_hl4b5"]
color_ramp = SubResource("Gradient_twbgh")
noise = SubResource("FastNoiseLite_hmg5w")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_cl0t8"]
shading_mode = 0
albedo_texture = SubResource("NoiseTexture2D_hl4b5")

[sub_resource type="PlaneMesh" id="PlaneMesh_a4nd0"]
material = SubResource("StandardMaterial3D_cl0t8")
size = Vector2(12.8, 12.8)

[node name="EmptyRoom2" type="StaticBody3D"]
transform = Transform3D(-0.469, 0, 7.0817e-08, 0, 0.469, 0, -7.0817e-08, 0, -0.469, 0, 0, 0)
script = ExtResource("1_i2ney")

[node name="WallDoor1" type="CSGPolygon3D" parent="."]
transform = Transform3D(-0.01, 1.50996e-09, 0, -1.50996e-09, -0.01, 0, 0, -2.64698e-23, 0.01, 0, 3.6, 6.4)
use_collision = true
polygon = PackedVector2Array(-640, -360, -640, 360, -134, 360, -138, 147.6, -138, 38.6, -114, 4.89999, -89, -16.1, -89, -16.8, -45, -38, -10, -45.4, 26.6, -44, 45.6, -40, 63.4, -33, 114.4, 1, 115, 1, 141, 33, 143, 274, 143, 360, 640, 360, 640, -360)
depth = 20.0
material = SubResource("StandardMaterial3D_10yua")

[node name="Sprite3D" type="Sprite3D" parent="WallDoor1"]
transform = Transform3D(-100, -1.50996e-05, 0, 1.50996e-05, -100, 0, 0, 0, 100, 0, 0, -20.1)
flip_h = true
texture = ExtResource("2_mbjre")

[node name="Wall2" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.35, 3.6, 0)
mesh = SubResource("PlaneMesh_4tnoq")

[node name="StaticBody3D" type="StaticBody3D" parent="Wall2"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Wall2/StaticBody3D"]
shape = SubResource("ConvexPolygonShape3D_rrkvq")

[node name="WallDoor3" type="CSGPolygon3D" parent="."]
transform = Transform3D(0.01, 8.74228e-10, -8.74228e-10, 8.74228e-10, -0.01, 0, -8.74228e-10, -7.64274e-17, -0.01, 0, 3.6, -6.4)
use_collision = true
polygon = PackedVector2Array(-640, -360, -640, 360, -134, 360, -138, 147.6, -138, 38.6, -114, 4.89999, -89, -16.1, -89, -16.8, -45, -38, -10, -45.4, 26.6, -44, 45.6, -40, 63.4, -33, 114.4, 1, 115, 1, 141, 33, 143, 274, 143, 360, 640, 360, 640, -360)
depth = 20.0
material = SubResource("StandardMaterial3D_10yua")

[node name="Sprite3D" type="Sprite3D" parent="WallDoor3"]
transform = Transform3D(-100, -1.50996e-05, 0, 1.50996e-05, -100, 0, 0, 0, 100, 0, 0, -20.1)
flip_h = true
texture = ExtResource("2_mbjre")

[node name="Wall4" type="MeshInstance3D" parent="."]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 6.35, 3.6, 0)
mesh = SubResource("PlaneMesh_4tnoq")

[node name="StaticBody3D" type="StaticBody3D" parent="Wall4"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Wall4/StaticBody3D"]
shape = SubResource("ConvexPolygonShape3D_6fq2f")

[node name="Floor" type="MeshInstance3D" parent="."]
mesh = SubResource("PlaneMesh_ar2j6")

[node name="FloorCollision" type="CollisionShape3D" parent="."]
transform = Transform3D(0.64, 0, 0, 0, 0.64, 0, 0, 0, 0.64, 0, 0, 0)
shape = SubResource("WorldBoundaryShape3D_4ups5")

[node name="Ceiling" type="MeshInstance3D" parent="."]
transform = Transform3D(-1, 8.74228e-08, 0, -8.74228e-08, -1, 0, 0, 0, 1, 0, 7.2, 0)
mesh = SubResource("PlaneMesh_a4nd0")

[node name="U" type="Marker3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 6.4)

[node name="D" type="Marker3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -6.4)

[node name="EnemySpawner" parent="." instance=ExtResource("5_s8fok")]
